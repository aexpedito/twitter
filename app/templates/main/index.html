{% extends "main/base.html" %}

{% block content %}

<div class="container">
    <div class="row justify-content-center">
        <h1 class="">Search for last Hashtags</h1>
    </div>

    <div class="row justify-content-center">
    <div class="form-submit">
        <form action="/submit" method="post" enctype="multipart/form-data" onsubmit="return preventDefault()" novalidate>
            <div class="form-group">
                <label>Hashtag</label>
                <input id="hashtag-input" type="text" placeholder="Enter #Hashtag" name="hashtag"/>
            </div>

            <div class="form-group">
                <label>Tweets</label>
                <input id="tweet-input" type="number" placeholder="How many tweets?" name="quantity" />
            </div>
            <button id="submit-button" class="btn btn-primary" type="submit">Submit</button>


            <br>
        </form>
        <br>

     <div class="download_file">
            <li><a href="/download_report">Download Results</a></li>
        </div>

    </div>
</div>
<script>
function preventDefault(e) {

    let hashtag = document.getElementById('hashtag-input').value;
    let number = document.getElementById('tweet-input').value;

    if (hashtag == null || hashtag =="" || number == null || number =="" || isNaN(number) ){
        alert("Please fill all Required fields");
        return false;
    }

    //loading
    let button = document.getElementById('submit-button');
    button.innerHTML=`<span id="load-spinner" class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span> Loading...`
    //load results
    return true;
}

function preventDefaultFile(e) {
    e.preventDefault();
    //console.log('prevent default file');
}
</script>


{% endblock %}